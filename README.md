# TheWatcher
Тут я буд создавать скрипт, который будет фиксировать нужные нам события с камеры, отправлять уведомления в телеграм и сохранять в БД.


TheWatcher_v1.0:
!!! ВАЖНО !!!
Для работы скрипта нужны следующие библиотеки:
- !!!!! imageai  ----- устанавливать по инструкции на оф. сайте (нужен Python 3.7 и некоторые библиотеки определенной версии)
- copy
- csv
- datatime
- time
- doteenv
- telebot
- PIL
- cv2 

А ТАКЖЕ файл модели ---- yolo.h5 ----- с оф. сайта

Также можно загрузить скрипт в EXE файл (получается тяжелый и нужны некоторые настройки) через pyinstaller, но скоро будет нормальный тлг бот, что удобнее, чем EXE.

Итак. Первая версия скрипта, сырая, но рабочая.
Он умеет:
- запускаться как с уже имеющимися настройками, так и получать новые
- про настройки - это вид камеры (айпи или локал), если айпи - принимает ссылку(ее придется делать самому, по инструкции к камере от производителя), если локал и количество больше 1 - выводит по очереди изображения и просит выбрать (пока что одну), если же камера локальная и одна, идем дальше, чувствительность камеры (в %), частота срабатывания (в сек), телеграм токен и чат айди(пока что любой, далее будет один рабочий бот)
Умеет определять людей, машины, грузовики.
Присылает уведомление в чат с количеством объектов. Но срабатывает только когда на новом кадре каких-либо объектов стало больше, чем на предыдущем. То есть не будет слать тысячу уведомлений, когда кто-то поставит машину и ушел.
Также присылает приближенное фото объектов.
Делает запись о новых объектах в БД (пока что это локальный CSV файл). - запись только о НОВЫХ объектах.

------------------------------------------------------------------------------

В следующих версиях будет: 
- полноценный рабочий телеграм-бот
- нормальная БД
- возможность выводить аналитику по базовым метрикам (возможно даже с выбором и настройками) прямо в тлг, либо выгрузка БД для самостоятельного анализа
